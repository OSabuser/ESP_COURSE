# Протокол аттрибутов ATT  

ATT определяет, в каком виде сервер представить свои данные клиенту и как эти данные будут структурированы.  

## Сервер

> Это устройство, которое предоставляет данные, которые оно содержит, или которыми управляет и, в некоторых случаях, другие аспекты поведения сервера, которые могут контролировать другие устройства.  
> Это устройство, которое получает входящие команды от связанного устройства и отправляет ответы, уведомления и индикации.

Например, `беспроводной термометр` будет вести себя как `сервер`, когда он будет предоставлять температуру окружающей среды, единицу измерений,  
свой уровень заряда и, возможно, временные интервалы, с которыми термометр производит измерения и сохраняет их результаты.  
Он также может уведомлять `клиент` (объясним позже) об изменениях температуры для того, чтобы `клиент` не опрашивал его непрерывно в ожидании готовых к отправке данных.  

## Клиент

> Это устройство, которое взаимодействует с `сервером` с целью считать предоставляемые сервером данные и/или для того, чтобы контролировать его поведение.  
> Это устройство, которое `посылает команды и запросы` и получает входящие уведомления и индикации.  
> В предыдущем примере, мобильный телефон, который подключался к беспроводному термометру и считывал его показания температуры, действовал в роли клиента.  

## Состав аттрибута

Данные, предоставляемые сервером, сгруппированы в **атрибуты**. Атрибут это общий термин для любых типов данных, предоставляемых сервером,  
он определяет структуру этих данных. Например, сервисы и характеристики (будут описаны позднее) являются атрибутами.  

### Тип атрибута (универсальный уникальный идентификатор, UUID)

Это `16-битное` (в случае стандартных атрибутов Bluetooth SIG) или `128-битное число` (в случае атрибутов, определенных разработчиком устройства, vendor-specific UUID).  
Например, UUID для одобренного консорциумом атрибута значения температуры `0x2A1C`. Одобренные консорциумом типы атрибутов имеют один общий (за исключением 16 бит) специальный 128-битный UUID:
> 0000XXXX-0000-1000-8000-00805F9B34FB.  

16-битный UUID будет подставлен вместо символов `ХХХХ` в базовом UUID.
Собственный UUID может быть любым 128-битным числом, не совпадающим ни с одним из одобренных Bluetooth-SIG базовых UUID. Например, разработчик может создать свой собственный UUID для показаний температуры, такой как:
> F5A1287E-227D-4C9E-AD2C-11D0FD6ED640

Одно из преимуществ использования стандартных UUID состоит в уменьшении размера пакета, так как UUID может быть передан в виде 16-битного числа, вместо передачи полного 128-битного числа.  

### Дескриптор атрибута

Это `16-битное число`, которое сервер присваивает каждому из своих атрибутов.  
Это число используется клиентом как ссылка на конкретный атрибут, и сервер гарантирует,  
что эта ссылка будет уникальной для атрибута, которому она присвоена, в течении всего времени существования соединения между устройствами.  
Дескриптор может иметь любое значение в диапазоне `0x0001-0xFFFF`, значение 0х0000 зарезервировано.  

### Права аттрибута

Права определяют, может ли атрибут быть прочитан или записан, может ли он посылать уведомления или индикации,  
и какие уровни доступа требуются для каждой из этих операций. Эти права не определяются протоколом атрибутов (АТТ)
и не могут быть прочитаны через него, они определяются на верхнем уровне (GATT или уровне приложения).
